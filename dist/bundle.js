(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{LOG_LEVELS:()=>n,createLogger:()=>c});const r=(e,t)=>{const r=Object.entries(e).map((([e,r])=>t(e,r)));return Object.fromEntries(r)},n={critical:0,error:1,warn:2,info:3,debug:4},a={enabled:!0,level:3,prefix:{includeLevelName:!0,includeTime:!0,getCurrentTimeString:()=>(new Date).toLocaleTimeString("en-US",{hour12:!1}),getRestOfPrefix:()=>[],formatLogSegments:(...e)=>e.join(" "),colors:{critical:"red",error:"orange",warn:"yellow",info:"skyblue",debug:"green"}},sink:{endpoint:null,func:({message:e,metaProperties:t})=>console.log(e,t)},metadataConfig:{includeInMessageString:!1},localOverrideKeys:{config:"config",metadata:"metadata"},filter:({message:e,meta:t})=>!0},o=e=>!Array.isArray(e)&&"object"==typeof e&&null!==e,i=(e,t)=>r(e,((r,n)=>o(e[r])&&o(t[r])?[r,i(e[r],t[r])]:t.hasOwnProperty(r)?t[r]:n)),l=(e,t)=>{if(!t.prefix)return null;const r=[t.includeLevelName&&e,t.includeTime&&t.prefix.getCurrentTimeString(),...getRestOfPrefix()],n=formatPrefixString(r),a=t.prefix.colors?`color: ${t.prefix.colors[e]};`:"";return a?[n,a]:[n]},s={config:"config",metadata:"metadata"},c=({config:e=a,metadata:t={}})=>{const n=i(a,e);return{...r(levels,((e,r)=>{return[e,(a=e,o=r,(...e)=>{((e,t)=>{const r=t.localOverrideKeys||s,n=Object.keys(e);n.length>0&&n.length<=2&&n.every((e=>r.hasOwnProperty(e)))})(e[0],n);const r=!!e[0].config,c=!!e[0].metadata,g=r?i(n,e[0]):n,f=r?e.slice(1):e;if(!g.enabled||o>LOG_LEVEL)return;const m=c?i(t,e[0].metadata):t,d=[...l(a,g),...f,g.metadataConfig.includeInMessageString&&m].filter((e=>e)),u=formatLogSegments(...d);filter({message:u,meta:m})&&(g.sink.func({message:u,meta:m}),g.sink.endpoint&&(async(e="",t={})=>{(await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},keepalive:!0,body:JSON.stringify(t)})).json()})(g.sink.endpoint,{message:u,meta:m}))})];var a,o})),createSubLogger:({config:e,metadata:r})=>c({config:i(n,e),metadata:i(t,r)})}}})();